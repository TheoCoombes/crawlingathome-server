<!DOCTYPE HTML>

<html>
	<head>
        <title>Captions@Home Leaderboard</title>
            <link href="https://cdn.jsdelivr.net/gh/TheoCoombes/crawlingathome-server@main/cdn/bootstrap.min.css" rel="stylesheet">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <meta http-equiv="refresh" content="30">
	</head>
	<body style='margin-left: 25px; margin-right: 25px; margin-top: 25px;'>
		{% if banner %}
            <div class="alert alert-primary" role="alert">{{ banner.decode() | safe }}</div>
            <br>
        {% endif %}
        <h1>Captions@Home Dashboard</h1>
        <br><br>
        <h2>Leaderboard</h2>
        <br>
        {% if (leaderboard | length) != 0 %}
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Device ID</th>
                        <th scope="col">Jobs Completed</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in leaderboard %}
                        <tr>
                            <th scope="row">{{ user.nickname }}</th>
                            <td>{{ "{:,}".format(user.jobs_completed) }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>There are no devices on the leaderboard yet.</p>
        {% endif %}
        
        <br><br>
        <a href="/">Back</a>
        <br><br>
	</body>
</html>
