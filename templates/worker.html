<!DOCTYPE HTML>

<html>
	<head>
	<title>Crawling@Home</title>
        <link href="https://cdn.jsdelivr.net/gh/TheoCoombes/crawlingathome-server@main/cdn/bootstrap.min.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<meta http-equiv="refresh" content="30">
	</head>
	<body style='margin-left: 25px; margin-right: 25px; margin-top: 25px;'>
        {% if banner %}
            <div class="alert alert-primary" role="alert">{{ banner.decode() | safe }}</div>
            <br>
        {% endif %}
        <h1>Captions@Home Dashboard</h1>
        <br><br>
        <h2>Worker: {{ c.display_name }}</h2>
	<br><br>
        <strong>First Seen:</strong> <span class="timestamp">{{ c.first_seen }}</span>
	    <br><br>
        <strong>Last Seen:</strong> <span class="timestamp">{{ c.last_seen }}</span>
        <br><br>
        <strong>Device ID:</strong> {{ c.user_nickname }}
	    <br><br>
        {% if c.job is none %}
            <strong>Currently Working on Job:</strong> (not currently working on a shard)
        {% else %}
            <strong>Currently Working on Job:</strong> {{ 'UUID #{}'.format(c.job.number) }}
        {% endif %}
        <br><br>
        <strong>Latest Progress Update:</strong> "{{ c.progress }}"
        <br><br>
        <strong>Total Jobs Completed:</strong> {{ '{:,}'.format(c.jobs_completed) }}
        <br><br>
        <strong>Efficiency:</strong> {{ '{0:.2f}'.format((c.jobs_completed / (c.last_seen - c.first_seen)) * 3600) }} jobs/hour
        <br><br><br>
	    <a href="/worker/{{ c.display_name }}/data">JSON Format</a>
	    <br><br>
	    <a href="/">Back</a>
	
        <script src="https://cdn.jsdelivr.net/gh/TheoCoombes/crawlingathome-server@main/cdn/main.js"></script>
	</body>
</html>
